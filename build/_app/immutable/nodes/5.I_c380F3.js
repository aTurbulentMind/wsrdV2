import{f as Z,c as r,s as e,a as ee,t as ae,$ as te,r as s}from"../chunks/disclose-version.D32A8cIq.js";import{p as re,m as u,g as t,X as se,Y as le,t as oe,a as ne,s as l,K as ie}from"../chunks/runtime.Cmx-9IxZ.js";import{h as ue}from"../chunks/svelte-head.DsIx1nbp.js";import{a as j,e as B}from"../chunks/forms.D4sUk8hc.js";import{r as p,s as f}from"../chunks/attributes.MW-2LmP5.js";import{b as me}from"../chunks/this.C1BhD3b-.js";import{i as pe}from"../chunks/lifecycle.DAoeH_GG.js";import{p as D}from"../chunks/props.BR7FjymL.js";import{A as fe}from"../chunks/Avatar.Bg51-Tvh.js";var ce=ae('<header class="head_Line"><h1>Account</h1></header> <form class="sendableForm svelte-kw60cr" method="post" action="?/update"><h2>Profile info</h2> <!> <label for="email">Email <input id="email" type="text" disabled></label> <label for="fullName">Full Name <input id="fullName" name="fullName" type="text"></label> <label for="username">Username <input id="username" name="username" type="text"></label> <label for="contact">Contact <input id="contact" name="contact" type="text"></label> <div class="window-content"><input class="W-button svelte-kw60cr" type="submit"></div> <a href="/usr_profile"><span>Go to your profile dashboard</span></a></form> <form method="post" action="?/signout"><div><button class="W-button svelte-kw60cr">Sign Out</button></div></form>',1);function xe(H,c){var G,K,P,X;re(c,!1);let d=D(c,"data"),v=D(c,"form"),b=d(),_=u(b.session),h=u(b.supabase),n=u(b.profile),g=u(),o=u(!1),I=((G=t(n))==null?void 0:G.full_name)??"",J=((K=t(n))==null?void 0:K.username)??"",M=((P=t(n))==null?void 0:P.contact)??"",F=u(((X=t(n))==null?void 0:X.avatar_url)??"");const Q=()=>(l(o,!0),async()=>{l(o,!1)}),R=()=>(l(o,!0),async({update:a})=>{l(o,!1),a()});se(()=>(t(_),t(h),t(n),ie(d())),()=>{(()=>{const a=d();return l(_,a.session),l(h,a.supabase),l(n,a.profile),a})()}),le(),pe();var U=ce();ue(a=>{te.title="Account"});var y=Z(U);r(y),s(y);var m=e(e(y,!0));me(m,a=>l(g,a),()=>t(g));var T=r(m),L=e(e(T,!0));fe(L,{get supabase(){return t(h)},get url(){return t(F)},set url(a){l(F,a)},size:10,$$events:{upload:()=>{t(g).requestSubmit()}},$$legacy:!0});var N=e(e(L,!0)),O=e(r(N));p(O),s(N);var w=e(e(N,!0)),W=e(r(w));p(W),s(w);var x=e(e(w,!0)),q=e(r(x));p(q),s(x);var A=e(e(x,!0)),z=e(r(A));p(z),s(A);var S=e(e(A,!0)),$=r(S);p($),s(S);var C=e(e(S,!0));r(C),s(C),s(m);var k=e(e(m,!0)),E=r(k),V=r(E);s(E),s(k),oe(()=>{var a,i,Y;f(O,t(_).user.email),f(W,((a=v())==null?void 0:a.fullName)??I),f(q,((i=v())==null?void 0:i.username)??J),f(z,((Y=v())==null?void 0:Y.contact)??M),f($,t(o)?"Loading...":"Update"),$.disabled=t(o),V.disabled=t(o)}),j(m,(a,i)=>B(a,i),()=>Q),j(k,(a,i)=>B(a,i),()=>R),ee(H,U),ne()}export{xe as component};
