import{h as _e,d as Ve,j as Xe,T as Ye,c as b,s as a,a as D,t as E,$ as Qe,r as g,f as me}from"../chunks/disclose-version.D32A8cIq.js";import{a4 as We,n as Ze,a5 as et,s as y,q as Ie,a1 as re,f as Te,m as C,a6 as Ne,a7 as Re,a8 as Fe,v as pe,w as ge,x as he,a2 as tt,E as at,L as rt,a9 as st,aa as nt,e as it,u as ot,k as lt,ab as ct,p as vt,g as e,X as ye,Y as ut,a as ft,K as dt,t as Y,_ as M,R as Me}from"../chunks/runtime.Cmx-9IxZ.js";import{a as _t,s as K}from"../chunks/render.Dx_fi2se.js";import{i as Q}from"../chunks/if.BqhT6dNd.js";import{e as be,i as ze}from"../chunks/each.DoEVNEIz.js";import{h as mt}from"../chunks/svelte-head.DsIx1nbp.js";import{a as J}from"../chunks/attributes.MW-2LmP5.js";import{t as pt}from"../chunks/class.CyiKG9oM.js";import{e as ae}from"../chunks/events.CQ8HCPju.js";import{i as gt}from"../chunks/lifecycle.DAoeH_GG.js";import{p as ht}from"../chunks/props.BR7FjymL.js";import{g as Le}from"../chunks/itm_utils.DLiW0QTc.js";import{a as yt}from"../chunks/index-client.CYjeMyXv.js";const we=0,ie=1,xe=2;function bt(o,t,l,c,n){_e&&Ve();var m=o,h=We(),I=at,i,r,s,z,p=h?Te(void 0):C(void 0),v=h?Te(void 0):C(void 0),d=!1;function _(u,k){d=!0,k&&(Ne($),Re($),Fe(I)),u===we&&l&&(r?pe(r):r=ge(()=>l(m))),u===ie&&c&&(s?pe(s):s=ge(()=>c(m,p))),u===xe&&n&&(z?pe(z):z=ge(()=>n(m,v))),u!==we&&r&&he(r,()=>r=null),u!==ie&&s&&he(s,()=>s=null),u!==xe&&z&&he(z,()=>z=null),k&&(Fe(null),Re(null),Ne(null),tt())}var $=Ze(()=>{if(i!==(i=t())){if(et(i)){var u=i;d=!1,u.then(k=>{u===i&&(y(p,k),_(ie,!0))},k=>{u===i&&(y(v,k),_(xe,!0))}),_e||Ie(()=>{d||_(we,!0)})}else y(p,i),_(ie,!1);return re}});_e&&(m=Xe)}const qe=typeof window<"u",zt=qe?requestAnimationFrame:re,wt=qe?()=>performance.now():()=>Date.now(),L={tick:o=>zt(o),now:()=>wt(),tasks:new Set};function Be(o){L.tasks.forEach(t=>{t.c(o)||(L.tasks.delete(t),t.f())}),L.tasks.size!==0&&L.tick(Be)}function xt(o){let t;return L.tasks.size===0&&L.tick(Be),{promise:new Promise(l=>{L.tasks.add(t={c:o,f:l})}),abort(){L.tasks.delete(t)}}}function oe(o,t){o.dispatchEvent(new CustomEvent(t))}function Ct(o){const t=o.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(l=>l[0].toUpperCase()+l.slice(1)).join("")}function Pe(o){const t={},l=o.split(";");for(const c of l){const[n,m]=c.split(":");if(!n||m===void 0)break;const h=Ct(n.trim());t[h]=m.trim()}return t}const It=o=>o;function kt(o,t,l,c){var n=(o&Ye)!==0,m="both",h,I=t.inert,i,r;function s(){return h??(h=l()(t,c==null?void 0:c(),{direction:m}))}var z={is_global:n,in(){t.inert=I,r==null||r.abort(),i==null||i.abort(),oe(t,"introstart"),i=ke(t,s(),r,1,()=>{oe(t,"introend"),i=h=void 0},void 0)},out(d){r==null||r.abort(),t.inert=!0,oe(t,"outrostart"),r=ke(t,s(),i,0,()=>{oe(t,"outroend"),r=h=void 0,d==null||d()},void 0),r.reset},stop:()=>{i==null||i.abort(),r==null||r.abort()}},p=lt;if((p.transitions??(p.transitions=[])).push(z),_t){let d=n;if(!d){for(var v=p.parent;v&&v.f&rt;)for(;(v=v.parent)&&!(v.f&st););d=!v||(v.f&nt)!==0}d&&it(()=>{ot(()=>z.in())})}}function ke(o,t,l,c,n,m){var h=c===1;if(ct(t)){var I;return Ie(()=>{var w=t({direction:h?"in":"out"});I=ke(o,w,l,c,n,m)}),{abort:()=>I.abort(),deactivate:()=>I.deactivate(),reset:()=>I.reset(),t:w=>I.t(w)}}if(l==null||l.deactivate(),!(t!=null&&t.duration))return n==null||n(),{abort:re,deactivate:re,reset:re,t:()=>c};const{delay:i=0,css:r,tick:s,easing:z=It}=t;var p=L.now()+i,v=(l==null?void 0:l.t(p))??1-c,d=c-v,_=t.duration*Math.abs(d),$=p+_,u,k;return r?Ie(()=>{var w=[],S=Math.ceil(_/16.666666666666668);if(h&&i>0){let j=Math.ceil(i/16.666666666666668),Z=Pe(r(0,1));for(let se=0;se<j;se+=1)w.push(Z)}for(var W=0;W<=S;W+=1){var V=v+d*z(W/S),le=r(V,1-V);w.push(Pe(le))}u=o.animate(w,{delay:h?0:i,duration:_+(h?i:0),easing:"linear",fill:"forwards"}),u.finished.then(()=>{n==null||n(),c===1&&u.cancel()}).catch(j=>{if(u.startTime!==null&&u.currentTime!==null)throw j})}):(v===0&&(s==null||s(0,1)),k=xt(w=>{if(w>=$)return s==null||s(c,1-c),n==null||n(),!1;if(w>=p){var S=v+d*z((w-p)/_);s==null||s(S,1-S)}return!0})),{abort:()=>{u==null||u.cancel(),k==null||k.abort(),m==null||m()},deactivate:()=>{n=void 0,m=void 0},reset:()=>{c===0&&(s==null||s(1,0))},t:w=>{var S=v+d*z((w-p)/_);return Math.min(1,Math.max(0,S))}}}const Dt=o=>o;function Et(o,{delay:t=0,duration:l=400,easing:c=Dt}={}){const n=+getComputedStyle(o).opacity;return{delay:t,duration:l,easing:c,css:m=>`opacity: ${m*n}`}}const Ce=""+new URL("../assets/meBase.D8RmNJlD.jpg",import.meta.url).href;var $t=E('<button class="svelte-1l7ltzn"> </button>'),At=E('<div class="tabs svelte-1l7ltzn"></div>'),St=E('<img class="svelte-1l7ltzn">'),Tt=E('<img alt="Default product" class="svelte-1l7ltzn">'),Nt=E('<button class="card svelte-1l7ltzn" type="button"><!> <h4> </h4></button>'),Rt=E('<div class="scroll-container"><div class="horizontal-grid svelte-1l7ltzn"></div></div>'),Ft=E('<button class="caro-nav-button svelte-1l7ltzn">←</button> <img class="svelte-1l7ltzn"> <button class="caro-nav-button svelte-1l7ltzn">→</button>',1),Mt=E('<img alt="Default product" class="svelte-1l7ltzn">'),Lt=E("/",1),Pt=E(" <!>",1),qt=E("<p><strong>Available Sizes:</strong></p> <p></p>",1),Bt=E('<div class="modal-background svelte-1l7ltzn"><div class="modal"><h4> </h4> <div class="carousel svelte-1l7ltzn"><!></div> <section><p><strong>Description:</strong> </p> <p><strong>Price:</strong> </p> <p><strong>Category:</strong> </p> <!></section> <button type="button" class="svelte-1l7ltzn"><span class="svelte-1l7ltzn">Close</span></button></div></div>'),jt=E('<main><header class=" head_Line svelte-1l7ltzn"><h1>Shop by Category</h1></header> <p>Select a category:</p> <section><!> <!> <!></section></main>');function ta(o,t){vt(t,!1);const l=C();let c=ht(t,"data"),n=c(),m=C(n.session),h=C(n.productData),I=C(n.productInventory),i=C(n.sizeData),r=C(n.images),s=C({}),z=new Set(e(h).map(f=>f.category)),p=C(""),v=C(null),d=C(!1),_=C([]),$=C(0),u;function k(f){y(p,f)}const w=()=>{e(_).length&&y($,(e($)+1)%e(_).length)},S=()=>{e(_).length&&y($,(e($)-1+e(_).length)%e(_).length)},W=()=>{V(),u=setInterval(w,3e3)},V=()=>{u&&clearInterval(u)},le=async f=>{y(v,f),y(d,!0);try{y(_,await Le(f.item_name,e(r))),console.log("Retrieved product images:",e(_))}catch(x){console.error("Error fetching images:",x)}y($,0),y(s,e(I).filter(x=>x.product_id===f.product_id)),W()};yt(()=>V()),ye(()=>(e(m),e(h),e(I),e(i),e(r),dt(c())),()=>{(()=>{const f=c();return y(m,f.session),y(h,f.productData),y(I,f.productInventory),y(i,f.sizeData),y(r,f.images),f})()}),ye(()=>(e(h),e(p)),()=>{y(l,e(h).filter(f=>f.category===e(p)))}),ye(()=>e(d),()=>{e(d)||V()}),ut(),gt();var j=jt();mt(f=>{Qe.title="Storefront"});var Z=b(j);b(Z),g(Z);var se=a(a(Z,!0)),De=a(a(se,!0)),Ee=b(De);Q(Ee,()=>z.size>0,f=>{var x=At();be(x,9,()=>Array.from(z),ze,(O,T,P)=>{var A=$t(),N=Me(()=>()=>k(M(T))),U=b(A);g(A),Y(()=>{pt(A,"active-tab",e(p)===M(T)),K(U,M(T))}),ae("click",A,function(...q){var G;return(G=e(N))==null?void 0:G.apply(this,q)},!1),D(O,A)}),g(x),D(f,x)});var $e=a(a(Ee,!0));Q($e,()=>e(p),f=>{var x=Rt(),O=b(x);be(O,9,()=>e(l),ze,(T,P,A)=>{var N=Nt(),U=Me(()=>()=>le(M(P))),q=b(N);bt(q,()=>Le(M(P).item_name,e(r),!0),null,(R,F)=>{var ee=St();Y(()=>{J(ee,"src",e(F)),J(ee,"alt",M(P).item_name)}),D(R,ee)},R=>{var F=Tt();J(F,"src",Ce),D(R,F)});var G=a(a(q,!0)),ce=b(G);g(G),g(N),Y(()=>{J(N,"aria-label",`View details for ${M(P).item_name}`),K(ce,M(P).item_name)}),ae("click",N,function(...R){var F;return(F=e(U))==null?void 0:F.apply(this,R)},!1),D(T,N)}),g(O),g(x),D(f,x)});var je=a(a($e,!0));Q(je,()=>e(d),f=>{var x=Bt(),O=b(x),T=b(O),P=b(T);g(T);var A=a(a(T,!0)),N=b(A);Q(N,()=>e(_)&&e(_).length>0,te=>{var B=Ft(),X=me(B),H=a(a(X,!0)),fe=a(a(H,!0));Y(()=>{J(H,"src",e(_)[e($)]||Ce),J(H,"alt",`Image of ${e(v).item_name}`)}),ae("click",X,S,!1),kt(3,H,()=>Et,()=>({duration:500})),ae("click",fe,w,!1),D(te,B)},te=>{var B=Mt();J(B,"src",Ce),D(te,B)}),g(A);var U=a(a(A,!0)),q=b(U),G=b(q),ce=a(G,!0);g(q);var R=a(a(q,!0)),F=b(R),ee=a(F,!0);g(R);var ve=a(a(R,!0)),Oe=b(ve),Ue=a(Oe,!0);g(ve);var Ge=a(a(ve,!0));Q(Ge,()=>e(s)&&Array.isArray(e(s))&&e(s).length>0,te=>{var B=qt(),X=me(B);b(X),g(X);var H=a(a(X,!0));be(H,9,()=>e(s),ze,(fe,He,Ke)=>{var Ae=Pt(),Se=me(Ae,!0);Y(()=>{var ne;return K(Se,`${(((ne=e(i).find(de=>de.size_id===M(He).size_id))==null?void 0:ne.size_name)||"Unknown Size")??""} `)});var Je=a(Se);Q(Je,()=>Ke<e(s).length-1,ne=>{var de=Lt();D(ne,de)}),D(fe,Ae)}),g(H),D(te,B)}),g(U);var ue=a(a(U,!0));b(ue),g(ue),g(O),g(x),Y(()=>{K(P,e(v).item_name),K(ce,` ${e(v).description??""}`),K(ee,` ${e(v).price??""}`),K(Ue,` ${e(v).category??""}`)}),ae("click",ue,()=>y(d,!1),!1),D(f,x)}),g(De),g(j),D(o,j),ft()}export{ta as component};
